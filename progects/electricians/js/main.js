(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let c=performance.now();requestAnimationFrame((function l(r){let n=(r-c)/o;n>1&&(n=1);let a=e(n);t(a),n<1&&requestAnimationFrame(l)}))};(()=>{const t=document.querySelectorAll(".callback-btn"),o=document.querySelector(".modal-overlay"),c=document.querySelector(".button-services "),l=document.querySelector(".services-elements"),r=document.getElementById("form"),n=r.querySelectorAll("input"),a=t=>{t.preventDefault(),o.style.display="block",e({duration:500,timing:e=>e,draw(e){o.style.opacity=e}})};t.forEach((e=>{e.addEventListener("click",(e=>a(e)))})),l.addEventListener("click",(e=>{e.target.closest(".absolute")&&a(e)})),c.addEventListener("click",(e=>a(e))),o.addEventListener("click",(e=>{e.preventDefault(),!e.target.closest(".modal-close")&&e.target.closest(".modal-callback ")||(n.forEach((e=>{r.querySelectorAll(".form-control").forEach((e=>e.value=""))})),o.style.display="none")}))})(),(()=>{const e=document.querySelectorAll(".top-menu>ul>li>a"),t=document.querySelectorAll(".mobile-menu>ul>li>a"),o=(e,t)=>{e.preventDefault(),t&&t.scrollIntoView({block:"start",behavior:"smooth"})};e.forEach((e=>{const t=document.querySelector(e.getAttribute("href"));e.addEventListener("click",(e=>{o(e,t)}))})),t.forEach((e=>{const t=document.querySelector(e.getAttribute("href"));e.addEventListener("click",(e=>{o(e,t)}))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item");let o,c=0;const l=(e,t,o)=>{e[t].classList.remove(o)},r=(e,t,o)=>{e[t].classList.add(o)};e.addEventListener("click",(e=>{e.preventDefault();const o=document.querySelectorAll(".dot");l(o,c,"slick-active"),l(t,c,"active"),e.target.classList.contains("dot")&&o.forEach(((t,o)=>{e.target===t&&(c=o)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),r(o,c,"slick-active"),r(t,c,"active")})),(()=>{let c=document.createElement("ul");c.classList.add("slick-dots"),e.append(c);for(let e=0;e<t.length;e++)o=document.createElement("li"),o.classList.add("dot"),c.append(o)})(),setInterval((()=>{const e=document.querySelectorAll(".slick-dots > li");l(e,c,"slick-active"),l(t,c,"active"),c++,c>=t.length&&(c=0),r(e,c,"slick-active"),r(t,c,"active")}),3e3)})(),(()=>{const e=document.querySelector(".up");window.onscroll=()=>{window.scrollY>600&&e.classList.remove("hideUp")},e.addEventListener("click",(()=>{let e,t=window.pageYOffset;const o=()=>{t>0?(window.scrollTo(0,t),t-=300,e=setTimeout(o,50)):(clearTimeout(e),window.scrollTo(0,0))};o()}))})(),(()=>{const e=document.querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{t.querySelector(".title").addEventListener("click",(()=>{e.forEach((e=>{const o=e.querySelector(".element-content");t==e?(o.classList.toggle("accordeon-active"),e.classList.toggle("active")):(o.classList.remove("accordeon-active"),e.classList.remove("active"))}))}))}))})(),(()=>{const e=document.getElementsByName("fio"),t=document.getElementsByName("tel");e.forEach((e=>{e.addEventListener("input",(t=>e.value=t.target.value.replace(/[^а-яА-Я\s]/gi,"")))})),t.forEach((e=>{e.addEventListener("input",(t=>e.value=t.target.value.replace(/[^+\d]/g,"")))}))})(),(()=>{let e=3;const t=document.querySelector(".services-elements"),o=t.querySelector(".services-carousel"),c=o.querySelectorAll(".element"),l=document.querySelector(".arrow-left"),r=document.querySelector(".arrow-right"),n=screen.width;n>=1250?e=3:n<1250&&n>=950?e=2:n<950&&(e=1);const a=Math.floor(t.clientWidth/e);let s=-a;c.forEach((e=>{e.style.minWidth=`calc(${a}px - 7px)`}));const i=()=>{let t=-(c.length-e)*a;s>0&&(s=t),s<t&&(s=0),o.style.transform=`translateX(${s}px)`};l.addEventListener("click",(()=>{s+=Math.floor(a),i()})),r.addEventListener("click",(()=>{s-=Math.floor(a),i()}))})(),(()=>{const t=document.querySelector(".mob-menu-btn"),o=document.querySelector(".mobile-menu"),c=document.querySelector(".overlay");t.addEventListener("click",(t=>(t=>{t.preventDefault(),o.style.right="0",c.style.opacity=1,c.style.zIndex=999,e({duration:300,timing:e=>e,draw(e){o.style.opacity=e,c.style.opacity=e}})})(t))),c.addEventListener("click",(e=>{e.preventDefault(),(e.target.closest(".mobile-menu-close")||e.target.matches(".overlay")||e.target.matches(".mobile-menu > ul > li > a"))&&(o.style.right="-400px",c.style.opacity=0,c.style.zIndex=-100)}))})(),((e=[])=>{const t=document.getElementById("form"),o=document.createElement("div");try{if(!t)throw new Error("Верните форму на место!");t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".button")&&(()=>{const e=t.querySelectorAll("input"),c=new FormData(t),l={};o.textContent="Загрузка...",o.classList.add("titleBlock"),o.style.color="#333",t.append(o),c.forEach(((e,t)=>{l[t]=e})),(e=>{let t=!0;return e.forEach((e=>{""==e.value&&(t=!1)})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return await t.json()})(l).then((t=>{o.textContent="Спасибо! Наш менеджер с вами свяжется.",e.forEach((e=>{document.querySelectorAll(".form-control").value=""})),setTimeout((()=>{document.querySelector(".modal-overlay").style.display="none"}),2e3)})).catch((e=>{o.textContent="Ошибка..."})):o.textContent="Заполните пустые поля!"})()}))}catch(e){console.log(e.massege)}})()})();